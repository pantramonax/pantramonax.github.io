<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Yönlendiriliyor…</title>

  <!-- Meta-refresh (anında yönlendirme; bazı tarayıcılarda JS tercih edilir) -->
  <meta http-equiv="refresh" content="0; url=http://84.51.52.126:3000">

  <style>
    :root{ --bg:#0b0f17; --card:#0f1720; --text:#e6eef8; --muted:#9aa6bd; }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Arial;}
    body{display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#071024 0%,#0b1220 100%);color:var(--text)}
    .card{width:min(760px,92%);background:var(--card);padding:28px;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.6);text-align:center;}
    h1{margin:0 0 8px;font-size:20px;}
    p{margin:8px 0;color:var(--muted)}
    .count{font-size:48px;margin:10px 0;font-weight:700}
    a.button{display:inline-block;margin-top:14px;padding:10px 16px;border-radius:8px;text-decoration:none;background:#f3f6ff;color:#07102a;font-weight:600}
    small{display:block;margin-top:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="card" role="main" aria-live="polite">
    <h1>Yönlendiriliyorsun</h1>
    <p>GitHub → hedef sunucuya yönlendiriliyorsun:</p>
    <div style="font-weight:600;margin-bottom:6px">http://84.51.52.126:3000</div>

    <div class="count" id="count">5</div>

    <a id="manual" class="button" href="http://84.51.52.126:3000">Hemen Git</a>

    <small>Otomatik yönlendirme çalışmazsa üstteki butona tıklayabilirsin.</small>
  </div>

  <script>
    (function(){
      const target = "http://84.51.52.126:3000";
      // Eğer meta refresh engellenmişse JS ile yönlendir:
      let countEl = document.getElementById("count");
      let sec = 5;

      const tick = () => {
        sec--;
        countEl.textContent = sec;
        if (sec <= 0) {
          // location.replace kullanıyoruz ki "geri" tuşunda bu sayfa yer kaplamasın
          try {
            location.replace(target);
          } catch (e) {
            // bazı ortamlar/restrictions hata atabilir; fallback link zaten var
            console.warn("Yönlendirme başarısız:", e);
          }
        } else {
          setTimeout(tick, 1000);
        }
      };

      // Küçük güvenlik: eğer sayfa https üzerinden geliyorsa ve hedef http ise
      // mixed-content nedeniyle yönlendirme engellenebilir; kullanıcıyı bilgilendir.
      if (location.protocol === "https:" && target.startsWith("http:")) {
        const sm = document.createElement("small");
        sm.style.display = "block";
        sm.style.marginTop = "8px";
        sm.style.color = "#ffd9a3";
        sm.textContent = "DİKKAT: Kaynak siten HTTPS, hedef HTTP. Bazı tarayıcılarda otomatik yönlendirme engellenebilir.";
        document.querySelector('.card').appendChild(sm);
      }

      // Start countdown after short delay (meta-refresh may already redirect immediately)
      setTimeout(tick, 1000);
    })();
  </script>
</body>
</html>
